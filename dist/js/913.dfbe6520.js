"use strict";(self["webpackChunkssm_saas"]=self["webpackChunkssm_saas"]||[]).push([[913],{6913:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});l(7658);var o=l(3396),s=l(7139),n=l(9242),u=l(4870),t=l(65),i=l(2483),r=l(9307);const c={class:"bg-white w-full sm:w-6/12 md:w-6/12 lg:w-4/12 flex flex-col items-center text-center gap-4 p-4 rounded-v m-auto mt-0"},d={key:0},p={key:1},v={key:2,class:"w-10/12"},m=(0,o._)("h6",null,"OTP is a code contain 6 numbers.",-1),y=(0,o._)("h5",{class:"w-10/12 my-4 text-gray-600"},[(0,o.Uk)("if you don't receive an OTP, try to "),(0,o._)("a",{class:"font-semibold underline decoration-solid"},"send again"),(0,o.Uk)(", check your email spam page or try again later")],-1);var w={__name:"verify",setup(e){const a=(0,t.oR)(),l=(0,i.tv)(),w=(0,i.yj)(),g=(0,u.iH)(w.query.OTP),f=(0,u.iH)(!1),h=(0,u.iH)({email:a.state.OTP?.email||null,password:a.state.OTP?.password||null,OTP:null}),k=(0,u.iH)(null),b=async()=>{try{f.value=!0;const e=await r.h.post(`/api/OTP/verify/${g.value}`,h.value);a.commit("user",e.data),l.push("/account")}catch(e){f.value=!1,console.log(e),console.log(e?.response?.data),k.value=e?.response?.data?.value}};return(e,a)=>{const l=(0,o.up)("input-app"),u=(0,o.up)("btn-app");return(0,o.wg)(),(0,o.iD)("div",c,["login"==g.value||"signup"==g.value?((0,o.wg)(),(0,o.iD)("h3",d,"Verify your Email")):((0,o.wg)(),(0,o.iD)("h3",p,"Forget Password")),"login"==g.value||"signup"==g.value?((0,o.wg)(),(0,o.iD)("h5",v,(0,s.zw)(`We sent a message contain an OTP code to your email (${h.value.email}) please cheque your inbox`),1)):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:a[3]||(a[3]=(0,n.iM)(((...a)=>e.submitForm&&e.submitForm(...a)),["prevent"])),class:"w-full grid gap-4 text-left"},["forget-password"==g.value?((0,o.wg)(),(0,o.j4)(l,{key:0,value:h.value.email,onUpdate:a[0]||(a[0]=e=>h.value.email=e),label:"email",type:"email",icon:"fluent:person-mail-24-filled",placeholder:"user@mail.com",readonly:f.value},null,8,["value","readonly"])):(0,o.kq)("",!0),"forget-password"==g.value?((0,o.wg)(),(0,o.j4)(l,{key:1,value:h.value.password,onUpdate:a[1]||(a[1]=e=>h.value.password=e),label:"new password",type:"password",icon:"fluent:shield-person-20-filled",placeholder:"password123",readonly:f.value},null,8,["value","readonly"])):(0,o.kq)("",!0),(0,o.Wm)(l,{value:h.value.OTP,onUpdate:a[2]||(a[2]=e=>h.value.OTP=e),label:"OTP",subText:!f.value&&k.value,subTextColor:"red",icon:"teenyicons:otp-solid",placeholder:"196785",minlength:"6",maxlength:"6",readonly:f.value},null,8,["value","subText","readonly"]),m,(0,o.Wm)(u,{text:"verify",onClick:b,icon:"fluent:checkmark-12-filled",class:"w-5/12 mt-4 mx-auto",loading:f.value},null,8,["loading"])],32),y])}}};const g=w;var f=g}}]);
//# sourceMappingURL=913.dfbe6520.js.map