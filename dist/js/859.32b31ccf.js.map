{"version":3,"file":"js/859.32b31ccf.js","mappings":"2vBA6BA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MAETC,GAAOC,EAAAA,EAAAA,IAAI,YACXC,GAAUD,EAAAA,EAAAA,KAAI,GAEdE,GAAOF,EAAAA,EAAAA,IAAI,CACfG,MAAO,KACPC,SAAU,OAGNC,GAAQL,EAAAA,EAAAA,IAAI,CAChBG,OAAOG,EAAAA,EAAAA,KAAS,IAAO,kDAAmDC,KAAKL,EAAKM,MAAML,SAC1FC,UAAUE,EAAAA,EAAAA,KAAS,IAAO,aAAcC,KAAKL,EAAKM,MAAMJ,cAGpDK,GAAUT,EAAAA,EAAAA,IAAI,CAClBG,OAAO,EACPC,UAAU,IAGNM,EAAQC,GAAMZ,EAAKS,MAAa,QAALG,EAAc,WAAa,OAEtDC,EAAQC,UAEZJ,EAAQD,MAAQH,EAAMG,MAEtB,IACMC,EAAQD,MAAML,OAASM,EAAQD,MAAMJ,WACvCH,EAAQO,OAAQ,QACVM,EAAAA,EAAIC,KAAK,gBAAiBb,EAAKM,OACrCb,EAAMqB,OAAO,MAAO,CAACb,MAAOD,EAAKM,MAAML,QACvCN,EAAOoB,KAAK,qBAEhB,CAAE,MAAOC,GACPjB,EAAQO,OAAQ,EAChBW,QAAQC,IAAIF,EACd,G,4tDC/DF,MAAMG,EAAc,EAEpB,O","sources":["webpack://ssm-saas/./src/pages/login.vue","webpack://ssm-saas/./src/pages/login.vue?f8ca"],"sourcesContent":["<template>\r\n  <div class=\"bg-white w-full sm:w-6/12 md:w-6/12 lg:w-4/12 flex flex-col items-center text-center gap-4 p-4 rounded-v m-auto mt-0\">\r\n    <h3>Welcome Back</h3>\r\n    <h5>Login to you account using</h5>\r\n    <div class=\"w-10/12 between m-auto\">\r\n      <btn-app text=\"goolge\" icon=\"logos:google-icon\" class=\"w-5/12\" />\r\n      <btn-app text=\"microsoft\" icon=\"logos:microsoft-icon\" class=\"w-5/12\" />\r\n    </div>\r\n    <div class=\"w-full between\">\r\n      <div class=\"w-full border-[1px]\"></div>\r\n      <div class=\"w-6/12\">Or</div>\r\n      <div class=\"w-full border-[1px] rounded-v\"></div>\r\n    </div>\r\n    <form @submit.prevent=\"submitForm\" class=\"w-full grid gap-4 text-left\">\r\n      <input-app :value=\"user.email\" @update=\"user.email = $event\" label=\"email\" :subText=\"!avalide.email && '(enter a valid email)'\" :invalid=\"!avalide.email && !regex.email\" type=\"email\" icon=\"fluent:person-mail-24-filled\"  placeholder=\"user@email.com\" :readonly=\"loading\" />\r\n      <input-app :value=\"user.password\" @update=\"user.password = $event\" label=\"password\" :subText=\"!avalide.password && '(at least 8 characters)'\" :invalid=\"!avalide.password && !regex.password\" :type=\"type\" icon=\"fluent:shield-person-20-filled\" placeholder=\"password123\" @btn=\"show(type)\" :btnIcon=\"`fluent:eye${type == 'text' ? '-off' : ''}-16-filled`\" :readonly=\"loading\" />\r\n      <h6>do you forget your password ? <router-link to=\"/verify?OTP=forget-password\" class=\"text-xs underline decoration-solid\">click here</router-link></h6>\r\n      <btn-app text=\"enter\" @click=\"login\" icon=\"fluent:person-24-filled\" :loading=\"loading\" class=\"w-5/12 mt-4 mx-auto\"/>\r\n    </form>\r\n    <h5 class=\"my-4 text-gray-600\">if you don't have <br> an account, <router-link to=\"/signup\" class=\"font-semibold underline decoration-solid\">Sign Up</router-link></h5>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue';\r\nimport { api } from '@/plugins/axios.js';\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst store = useStore();\r\nconst router = useRouter();\r\n\r\nconst type = ref('password');\r\nconst loading = ref(false);\r\n\r\nconst user = ref({\r\n  email: null,\r\n  password: null,\r\n});\r\n\r\nconst regex = ref({\r\n  email: computed(() => (/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/).test(user.value.email)),\r\n  password: computed(() => (/^.{8,100}$/).test(user.value.password)),\r\n});\r\n\r\nconst avalide = ref({\r\n  email: true,\r\n  password: true\r\n});\r\n\r\nconst show = (v) => type.value = v == 'text' ? 'password' : 'text';\r\n\r\nconst login = async () => {\r\n\r\n  avalide.value = regex.value;\r\n\r\n  try {\r\n    if (avalide.value.email && avalide.value.password) {\r\n      loading.value = true;\r\n      await api.post(\"/api/OTP/send\", user.value);\r\n      store.commit(\"OTP\", {email: user.value.email});\r\n      router.push('/verify?OTP=login');\r\n    }\r\n  } catch (error) {\r\n    loading.value = false;\r\n    console.log(error);\r\n  }\r\n}\r\n</script>","import script from \"./login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./login.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","router","useRouter","type","ref","loading","user","email","password","regex","computed","test","value","avalide","show","v","login","async","api","post","commit","push","error","console","log","__exports__"],"sourceRoot":""}