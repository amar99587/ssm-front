{"version":3,"file":"js/913.dfbe6520.js","mappings":"gvBAwBA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAERC,GAASC,EAAAA,EAAAA,IAAIH,EAAMI,MAAMC,KACzBC,GAAUH,EAAAA,EAAAA,KAAI,GAEdI,GAAOJ,EAAAA,EAAAA,IAAI,CACfK,MAAOZ,EAAMa,MAAMJ,KAAKG,OAAS,KACjCE,SAAUd,EAAMa,MAAMJ,KAAKK,UAAY,KACvCL,IAAK,OAGDM,GAAWR,EAAAA,EAAAA,IAAI,MAEfS,EAASC,UACb,IACEP,EAAQQ,OAAQ,EAChB,MAAMC,QAAeC,EAAAA,EAAIC,KAAM,mBAAkBf,EAAOY,QAASP,EAAKO,OACtElB,EAAMsB,OAAO,OAAQH,EAAOI,MAC5BrB,EAAOsB,KAAK,WACd,CAAE,MAAOC,GACPf,EAAQQ,OAAQ,EAChBQ,QAAQC,IAAIF,GACZC,QAAQC,IAAIF,GAAOG,UAAUL,MAC7BR,EAASG,MAAQO,GAAOG,UAAUL,MAAML,KAC1C,G,mgDC/CF,MAAMW,EAAc,EAEpB,O","sources":["webpack://ssm-saas/./src/pages/verify.vue","webpack://ssm-saas/./src/pages/verify.vue?223c"],"sourcesContent":["<template>\r\n  <div class=\"bg-white w-full sm:w-6/12 md:w-6/12 lg:w-4/12 flex flex-col items-center text-center gap-4 p-4 rounded-v m-auto mt-0\">\r\n    <h3 v-if=\"OTPfor == 'login' || OTPfor == 'signup'\">Verify your Email</h3>\r\n    <h3 v-else>Forget Password</h3>\r\n    <h5 v-if=\"OTPfor == 'login' || OTPfor == 'signup'\" class=\"w-10/12\">\r\n      {{ `We sent a message contain an OTP code to your email (${user.email}) please cheque your inbox` }}\r\n    </h5>\r\n    <form @submit.prevent=\"submitForm\" class=\"w-full grid gap-4 text-left\">\r\n      <input-app v-if=\"OTPfor == 'forget-password'\" :value=\"user.email\" @update=\"user.email = $event\" label=\"email\" type=\"email\" icon=\"fluent:person-mail-24-filled\"  placeholder=\"user@mail.com\" :readonly=\"loading\" />\r\n      <input-app v-if=\"OTPfor == 'forget-password'\" :value=\"user.password\" @update=\"user.password = $event\" label=\"new password\" type=\"password\" icon=\"fluent:shield-person-20-filled\" placeholder=\"password123\" :readonly=\"loading\" />\r\n      <input-app :value=\"user.OTP\" @update=\"user.OTP = $event\" label=\"OTP\" :subText=\"!loading && resError\" subTextColor=\"red\" icon=\"teenyicons:otp-solid\" placeholder=\"196785\" minlength=\"6\" maxlength=\"6\" :readonly=\"loading\" />\r\n      <h6>OTP is a code contain 6 numbers.</h6>\r\n      <btn-app text=\"verify\" @click=\"verify\" icon=\"fluent:checkmark-12-filled\" class=\"w-5/12 mt-4 mx-auto\" :loading=\"loading\" />\r\n    </form>\r\n    <h5 class=\"w-10/12 my-4 text-gray-600\">if you don't receive an OTP, try to <a class=\"font-semibold underline decoration-solid\">send again</a>, check your email spam page or try again later</h5>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport { useStore } from 'vuex'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { api } from '@/plugins/axios.js';\r\n\r\nconst store = useStore();\r\nconst router = useRouter();\r\nconst route = useRoute();\r\n\r\nconst OTPfor = ref(route.query.OTP);\r\nconst loading = ref(false);\r\n\r\nconst user = ref({\r\n  email: store.state.OTP?.email || null,\r\n  password: store.state.OTP?.password || null,\r\n  OTP: null,\r\n});\r\n\r\nconst resError = ref(null);\r\n\r\nconst verify = async () => {\r\n  try {\r\n    loading.value = true;\r\n    const result = await api.post(`/api/OTP/verify/${OTPfor.value}`, user.value);\r\n    store.commit(\"user\", result.data);\r\n    router.push('/account');\r\n  } catch (error) {\r\n    loading.value = false;\r\n    console.log(error);\r\n    console.log(error?.response?.data);\r\n    resError.value = error?.response?.data?.value;\r\n  }\r\n};\r\n</script>","import script from \"./verify.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./verify.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["store","useStore","router","useRouter","route","useRoute","OTPfor","ref","query","OTP","loading","user","email","state","password","resError","verify","async","value","result","api","post","commit","data","push","error","console","log","response","__exports__"],"sourceRoot":""}